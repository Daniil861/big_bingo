(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible")),sessionStorage.getItem("money")||sessionStorage.setItem("money",3e4),document.querySelector(".check")&&document.querySelectorAll(".check").forEach((e=>{e.textContent=sessionStorage.getItem("money")})),document.querySelector(".game")?+sessionStorage.getItem("money")>=10&&(sessionStorage.setItem("current-bet",10),document.querySelectorAll(".table-bet__count").forEach(((e,t)=>{0==t&&e.classList.add("_active")}))):sessionStorage.setItem("current-bet",0);const t=document.querySelector(".preloader"),o=document.querySelector(".wrapper");document.documentElement.clientWidth,document.documentElement.clientHeight;function c(e,t){let o=+sessionStorage.getItem("money");sessionStorage.setItem("money",o-e),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.add("_delete-money"))),document.querySelectorAll(t).forEach((e=>e.textContent=sessionStorage.getItem("money")))}),500),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.remove("_delete-money")))}),1500)}function s(e,t,o){document.querySelectorAll(e).forEach((e=>e.classList.remove(t))),o.classList.add(t)}function n(e,t){return Math.floor(Math.random()*(t-e)+e)}function l(e,t,o){function c(e,t){return Math.floor(Math.random()*(t-e)+e)}let s=[],n=0;return function l(){if(n==o)return s;if(0==s.length){let o=c(e,t);s.push(o),n++}if(s.length==n){let o=c(e,t);return 1==s.includes(o)||(s.push(o),n++),l()}}}let r=document.querySelectorAll(".icon-anim img");document.querySelector(".icon-anim img")&&setInterval((()=>{!function(){let e=n(0,3),t=["jump","scale","rotate"],o=n(0,r.length);r.forEach((e=>{e.classList.contains("_anim-icon-jump")?e.classList.remove("_anim-icon-jump"):e.classList.contains("_anim-icon-scale")?e.classList.remove("_anim-icon-scale"):e.classList.contains("_anim-icon-rotate")&&e.classList.remove("_anim-icon-rotate")})),setTimeout((()=>{r[o].classList.add(`_anim-icon-${t[e]}`)}),100)}()}),2e4),document.querySelector(".main")&&document.querySelector(".preloader").classList.contains("_hide")&&(document.querySelector(".main").classList.add("_active"),document.querySelector(".man_main").classList.add("_active"));const u=500,a=500,i=500,d=10,_={numbers:[],bonus_numbers:[],bonus_count:0,delete_number:0,state:0,tickets:1,current_win:0};function m(e){b(e);let t=l(1,100,15)(),o=document.createElement("div");o.classList.add("ticket__blank"),o.classList.add("blank");for(let e=0;e<15;e++){let c=document.createElement("div");c.classList.add("blank__number"),c.textContent=t[e],c.setAttribute("data-number",t[e]),o.append(c)}document.querySelector(`.ticket__inner_${e}`).append(o)}function b(e){let t=document.querySelector(`.ticket__inner_${e}`);for(;t.firstChild;)t.removeChild(t.firstChild)}function y(){document.querySelector(".buttons__start").classList.add("_hold"),document.querySelector(".buttons__bet").classList.add("_hold"),function(){let e=l(1,100,42);_.numbers=e(),function(){let e=_.numbers;_.bonus_numbers=e.filter(((e,t)=>{if(t>=30)return!0}));let t=e.filter(((e,t)=>{if(t<30)return!0}));_.numbers=t}()}(),document.querySelectorAll(".ticket__button").forEach((e=>e.classList.add("_hide"))),function(){let e=document.querySelectorAll(".balls__ball");for(let t=0;t<e.length;t++){e[t].querySelector("p").textContent=_.numbers[t];let o=S();e[t].classList.add(o)}}(),0==_.state&&0==_.state&&(c(+sessionStorage.getItem("current-bet")*_.tickets,".check"),_.state++),setTimeout((()=>{document.querySelectorAll(".blank__number").forEach((e=>{_.numbers.includes(+e.dataset.number)&&e.classList.add("_checked")})),h()}),2e3),setTimeout((()=>{document.querySelector(".bug__body").classList.add("_active"),document.querySelector(".bonus-game").classList.add("_active")}),3e3)}function S(){return["balls__ball_red","balls__ball_yellow","balls__ball_green","balls__ball_blue","balls__ball_purple"][n(0,5)]}function L(){let e=document.querySelectorAll(".blank__number"),t=0,o=0;e.forEach((e=>{e.classList.contains("_collision")&&o++})),o>0?(t=o/5,1==t?_.current_win=15*+sessionStorage.getItem("current-bet"):2==t?_.current_win=30*+sessionStorage.getItem("current-bet"):3==t?_.current_win=50*+sessionStorage.getItem("current-bet"):4==t?_.current_win=70*+sessionStorage.getItem("current-bet"):t>4&&(_.current_win=100*+sessionStorage.getItem("current-bet")),document.querySelector(".win__sub-text").textContent="You win!",document.querySelector(".win__text").textContent=_.current_win,function(e,t,o,c){let s=Math.floor(+sessionStorage.getItem("money")+e);setTimeout((()=>{sessionStorage.setItem("money",s),document.querySelectorAll(t).forEach((e=>e.textContent=sessionStorage.getItem("money"))),document.querySelectorAll(t).forEach((e=>e.classList.add("_anim-add-money")))}),o),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.remove("_anim-add-money")))}),c)}(_.current_win,".check",1e3,2e3),setTimeout((()=>{document.querySelector(".win").classList.add("_active")}),1e3)):(document.querySelector(".win__sub-text").textContent="You loose!",document.querySelector(".win").classList.add("_loose"),setTimeout((()=>{document.querySelector(".win").classList.add("_active")}),1e3))}function h(){let e,t,o,c=document.querySelectorAll(".ticket__inner_1 .blank__number");document.querySelector(".ticket__inner_2 .blank__number")&&(e=document.querySelectorAll(".ticket__inner_2 .blank__number")),document.querySelector(".ticket__inner_3 .blank__number")&&(t=document.querySelectorAll(".ticket__inner_3 .blank__number")),document.querySelector(".ticket__inner_4 .blank__number")&&(o=document.querySelectorAll(".ticket__inner_4 .blank__number")),g(c),e&&g(e),t&&g(t),o&&g(o)}function g(e){e[0].classList.contains("_checked")&&e[1].classList.contains("_checked")&&e[2].classList.contains("_checked")&&e[3].classList.contains("_checked")&&e[4].classList.contains("_checked")&&e.forEach(((e,t)=>{t>=0&&t<=4&&e.classList.add("_collision")})),e[5].classList.contains("_checked")&&e[6].classList.contains("_checked")&&e[7].classList.contains("_checked")&&e[8].classList.contains("_checked")&&e[9].classList.contains("_checked")&&e.forEach(((e,t)=>{t>=5&&t<=9&&e.classList.add("_collision")})),e[10].classList.contains("_checked")&&e[11].classList.contains("_checked")&&e[12].classList.contains("_checked")&&e[13].classList.contains("_checked")&&e[14].classList.contains("_checked")&&e.forEach(((e,t)=>{t>=10&&t<=14&&e.classList.add("_collision")}))}function q(){_.numbers=[],_.bonus_numbers=[],_.bonus_count=0,_.state=0,document.querySelector(".bonus-game").classList.remove("_active"),document.querySelectorAll(".balls__ball ").forEach((e=>e.classList.remove("_active"))),document.querySelector(".buttons__start").classList.remove("_hold"),document.querySelector(".buttons__bet").classList.remove("_hold"),document.querySelector(".bug__body").classList.remove("_active"),document.querySelectorAll(".ticket__button").forEach((e=>{e.classList.contains("_hide")&&e.classList.remove("_hide")})),document.querySelectorAll(".bug__ball").forEach((e=>{e.textContent="",e.classList.contains("_opened")&&e.classList.remove("_opened")})),document.querySelector(".bug__circle").textContent="",document.querySelector(".ticket__button_2")||(b(2),k(2)),document.querySelector(".ticket__button_3")||(b(3),k(3)),document.querySelector(".ticket__button_4")||(b(4),k(4)),m(1),setTimeout((()=>{document.querySelector(".win").classList.remove("_active")}),500),setTimeout((()=>{document.querySelector(".win").classList.contains("_loose")&&document.querySelector(".win").classList.remove("_loose")}),1e3)}function k(e){let t=document.createElement("div");t.classList.add("ticket__button-box");let o=document.createElement("span"),c=document.createElement("button");c.setAttribute("type","button"),c.classList.add("ticket__button"),c.classList.add("button"),c.classList.add("button_game"),c.classList.add(`ticket__button_${e}`);let s=document.createElement("img");s.setAttribute("src","img/icons/money.svg"),s.setAttribute("alt","Icon");let n=document.createElement("p");2==e?n.textContent=`Buy ${u}`:3==e?n.textContent=`Buy ${a}`:4==e&&(n.textContent=`Buy ${i}`),c.append(s,n),t.append(o,c),document.querySelector(`.ticket__inner_${e}`).append(t)}function f(){!function(){let e=_.bonus_numbers[_.bonus_numbers.length-1];document.querySelector(".bug__lighting").classList.add("_anim"),document.querySelector(".bug__circle").textContent="",setTimeout((()=>{document.querySelector(".bug__lighting").classList.remove("_anim")}),2e3),setTimeout((()=>{document.querySelector(".bug__circle").textContent=e,document.querySelectorAll(".bug__ball").forEach((t=>{t.dataset.number==_.bonus_count+1&&(t.textContent=e,t.classList.add("_opened"))})),_.delete_number=_.bonus_numbers.pop(),_.bonus_count++}),2e3),setTimeout((()=>{_.bonus_numbers.length<=0&&L()}),4e3)}(),setTimeout((()=>{document.querySelectorAll(".blank__number").forEach((e=>{+e.dataset.number==_.delete_number&&(e.classList.add("_checked"),e.classList.add("_checked_bonus"))})),h()}),2e3)}document.querySelector(".game")&&document.querySelector(".preloader").classList.contains("_hide")&&(document.querySelector(".ticket__button_2 p").textContent=`Buy ${u}`,document.querySelector(".ticket__button_3 p").textContent=`Buy ${a}`,document.querySelector(".ticket__button_4 p").textContent=`Buy ${i}`,m(1),function(){let e=document.querySelectorAll(".balls_left .balls__ball"),t=document.querySelectorAll(".balls_right .balls__ball");e.forEach((e=>e.classList.add("_hide-left"))),t.forEach((e=>e.classList.add("_hide-right")))}());const v=new Audio;v.preload="auto",v.src="files/audio_bg.mp3",v.loop=[!0],v.volume=[.3],document.addEventListener("click",(e=>{let t=e.target;t.closest(".volume")&&(t.closest(".volume")&&!t.closest(".volume").classList.contains("_hide")?v.pause():t.closest(".volume")&&t.closest(".volume").classList.contains("_hide")&&v.play(),t.closest(".volume").classList.toggle("_hide"))})),document.addEventListener("click",(e=>{let n=e.target,l=+sessionStorage.getItem("money");if(n.closest(".preloader__button")&&(sessionStorage.setItem("preloader",!0),t.classList.add("_hide"),o.classList.add("_visible"),document.querySelector(".main")&&document.querySelector(".preloader").classList.contains("_hide")&&(document.querySelector(".main").classList.add("_active"),document.querySelector(".man_main").classList.add("_active"))),n.closest(".ticket__button_2")&&l>=u&&(c(u,".check"),m(2),_.tickets=_.tickets+1),n.closest(".ticket__button_3")&&l>=a&&(c(a,".check"),m(3),_.tickets=_.tickets+1),n.closest(".ticket__button_4")&&l>=i&&(c(i,".check"),m(4),_.tickets=_.tickets+1),n.closest(".buttons__start")){let e=!(_.tickets*+sessionStorage.getItem("current-bet")>+sessionStorage.getItem("money")&&(sessionStorage.setItem("current-bet",10),1));e?(y(),setTimeout((()=>{document.querySelectorAll(".balls__ball").forEach((e=>e.classList.add("_active")))}),500)):e||document.querySelector(".table-bet").classList.contains("_active")||(s(".table-bet__count","_active",document.querySelectorAll(".table-bet__count")[0]),document.querySelector(".table-bet").classList.add("_active"))}if(n.closest(".buttons__bet")&&document.querySelector(".table-bet").classList.toggle("_active"),!document.querySelector(".table-bet")||n.closest(".buttons__start")||n.closest(".buttons__bet")||n.closest(".table-bet")||!document.querySelector(".table-bet").classList.contains("_active")||document.querySelector(".table-bet").classList.remove("_active"),n.closest(".table-bet__count")){let e=+n.closest(".table-bet__count").dataset.val;l>=e*_.tickets?(sessionStorage.setItem("current-bet",e),s(".table-bet__count","_active",n.closest(".table-bet__count"))):(r=".check",document.querySelectorAll(r).forEach((e=>e.classList.add("_no-money"))),setTimeout((()=>{document.querySelectorAll(r).forEach((e=>e.classList.remove("_no-money")))}),1e3))}var r;n.closest(".bonus-game__button_1")&&(c(d,".check"),f(),document.querySelector(".bonus-game__buttons").classList.add("_hold"),setTimeout((()=>{_.bonus_numbers.length>0&&document.querySelector(".bonus-game__buttons").classList.remove("_hold")}),2e3)),n.closest(".bonus-game__button_2")&&L(),n.closest(".win__button_play")&&q()})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)}))})();